webpackJsonp([7],{189:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(28),r=a.n(s),i=a(188),n=a.n(i),o=a(17),l=a(220),u=a(225),c=a(230),d=a.n(c),m=a(231),f=(a.n(m),a(232)),v=(a.n(f),a(233)),p=a.n(v),h=a(251),j=a(0),g=a.n(j),_=a(178),b=a.n(_);o.default.use(b.a),o.default.prototype.$axios=p.a;var k=o.default.cookie.get("$aariXaFood$token");k&&(o.default.prototype.$axios.defaults.headers.common.Authorization=k),o.default.prototype.$axios.interceptors.request.use(function(t){return h.a.commit("loader",!0),t},function(t){return h.a.commit("loader",!1),n.a.reject(t)});var $=0;o.default.prototype.$axios.interceptors.response.use(function(t){return h.a.commit("loader",!1),t},function(t){return h.a.commit("loader",!1),0===t.request.status&&0===$?($++,t.response={data:{error:{message:"Kan niet connecteren naar API."}}},n.a.reject(t.response.data.error)):0===t.request.status?n.a.resolve(t):(t.request&&console.log(t.request.responseURL),t.response&&console.log(t.response.status,JSON.parse(r()(t.response.data))),t.response&&401===t.response.status&&(h.a.commit("signOut"),h.a.commit("drawer",!0)),n.a.reject(t.response.data.error))}),u.a.beforeEach(function(t,e,a){t.matched.some(function(t){return t.meta.requiresAdmin})?h.a.state.isAdmin?a():a({name:"Root",query:{redirect:t.fullPath}}):t.matched.some(function(t){return t.meta.requiresAuth})?h.a.state.authenticated?a():a({name:"Root",query:{redirect:t.fullPath}}):a()}),o.default.filter("formatDate",function(t){if(t)return g()(String(t)).format("DD/MM/YYYY")}),o.default.filter("formatTime",function(t){if(t)return g()(String(t)).format("HH:mm")}),o.default.filter("formatDateTime",function(t){if(t)return g()(String(t)).format("DD/MM/YYYY HH:mm")}),o.default.filter("formatWebsite",function(t){if(t){var e=String(t).toLocaleLowerCase().replace("https","").replace("http","").replace("://","");return e.endsWith("/")&&(e=e.slice(0,-1)),e}}),o.default.filter("formatMoney",function(t){return t&&"number"==typeof t?0===t?"":"€ "+t.toFixed(2):""}),o.default.use(d.a,{theme:{primary:"#2072b9",secondary:"#27293e",accent:"#27293e",red:"#f13542"}}),o.default.config.productionTip=!1,new o.default({el:"#app",router:u.a,store:h.a,components:{App:l.a},template:"<App/>"})},220:function(t,e,a){"use strict";function s(t){a(221)}var r=a(43),i=a(223),n=a(27),o=s,l=n(r.a,i.a,!1,o,"data-v-d9256c9a",null);e.a=l.exports},221:function(t,e){},223:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-navigation-drawer",{attrs:{persistent:"","mini-variant":t.miniVariant,clipped:t.clipped,"enable-resize-watcher":"",fixed:"",app:""},model:{value:t.$store.state.drawer,callback:function(e){t.$set(t.$store.state,"drawer",e)},expression:"$store.state.drawer"}},[s("v-container",{attrs:{fluid:""}},[s("v-layout",{staticClass:"mb-3",attrs:{row:""}},[s("v-layout",{attrs:{column:"","align-center":""}},[s("img",{staticClass:"logo mt-3 mb-3",attrs:{src:a(224),alt:"aariXa"}}),t._v(" "),s("p",[t._v("Bestel eten bij aariXa!")])])],1),t._v(" "),this.$store.state.authenticated?t._e():s("v-layout",{staticClass:"mb-3",attrs:{row:""}},[s("v-layout",{attrs:{column:""}},[s("h2",[t._v("Aanmelden")])])],1),t._v(" "),this.$store.state.authenticated?t._e():s("v-layout",{staticClass:"mb-4",attrs:{row:""}},[s("v-layout",{attrs:{column:""}},[s("v-alert",{attrs:{value:t.emailSent,type:"success"}},[t._v("\n            E-mail verzonden naar "+t._s(t.email)+". Klik op de link in de e-mail om in te loggen.\n          ")]),t._v(" "),s("v-alert",{attrs:{value:t.emailError,type:"error"}},[t._v("\n            Er ging even iets mis, probeer het later opnieuw. Of stuur een "),s("a",{staticStyle:{color:"#fff"},attrs:{href:"mailto:steff@steffbeckers.eu?subject=aariXaFood - Error bij aanmelden&body=Dag Steff, Ik kan me niet aanmelden op aariXaFood. ..."}},[t._v("e-mail naar Steff")]),t._v(".\n          ")]),t._v(" "),s("v-form",{ref:"loginForm",on:{submit:t.sendLoginCredentialsEmail},model:{value:t.loginFormValid,callback:function(e){t.loginFormValid=e},expression:"loginFormValid"}},["development"===t.nodeEnv?s("span",{on:{click:function(e){t.email="steff.beckers@aariXa.be"}}},[t._v("steff.beckers@")]):t._e(),t._v(" "),"development"===t.nodeEnv?s("span",{on:{click:function(e){t.email="steff@aariXa.be"}}},[t._v("steff@")]):t._e(),t._v(" "),s("v-text-field",{attrs:{id:"email",rules:t.emailRules,label:"E-mail",required:"",loading:this.$store.state.loading,clearable:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),s("v-btn",{staticClass:"elevation-0",attrs:{block:"",color:"primary",disabled:!t.loginFormValid,type:"submit"}},[t._v("\n              Verstuur e-mail\n            ")])],1)],1)],1)],1),t._v(" "),this.$store.state.authenticated?s("v-toolbar",{staticClass:"transparent mb-2",attrs:{flat:""}},[s("v-list",{staticClass:"pa-0"},[s("v-list-tile",{attrs:{avatar:""}},[this.$store.state.user.avatar?t._e():s("v-list-tile-avatar",{attrs:{color:"primary"}},[s("span",{staticClass:"white--text headline"},[t._v(t._s(t.firstLetterOfUser))])]),t._v(" "),this.$store.state.user.avatar?s("v-list-tile-avatar",[s("img",{attrs:{src:this.$store.state.user.avatar,alt:this.$store.state.user.username}})]):t._e(),t._v(" "),this.$store.state.user.username?s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(this.$store.state.user.username))]),t._v(" "),this.$store.state.isAdmin?s("v-list-tile-sub-title",[t._v("Administrator")]):t._e(),t._v(" "),this.$store.state.isOfficeManager?s("v-list-tile-sub-title",[t._v("Office Manager")]):t._e()],1):t._e(),t._v(" "),s("v-list-tile-action",{on:{click:t.signOut}},[s("v-icon",[t._v("fa-sign-out")])],1)],1)],1)],1):t._e(),t._v(" "),s("v-list",t._l(t.sideMenuItems,function(e,a){return s("v-list-tile",{key:a,attrs:{to:e.page,exact:""}},[s("v-list-tile-action",[s("v-icon",{domProps:{innerHTML:t._s(e.icon)}})],1),t._v(" "),s("v-list-tile-title",{domProps:{textContent:t._s(e.title)}})],1)}),1),t._v(" "),t.$store.state.isAdmin?s("v-list",[s("v-list-group",{attrs:{"prepend-icon":"account_circle"}},[s("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[s("v-list-tile-title",[t._v("Administratie")])],1),t._v(" "),s("v-list-tile",{attrs:{to:{name:"AdminUserModels"}}},[s("v-list-tile-action",[s("v-icon",[t._v("people")])],1),t._v(" "),s("v-list-tile-title",[t._v("aariXianen")])],1)],1)],1):t._e()],1),t._v(" "),s("v-toolbar",{attrs:{"clipped-left":t.clipped,app:"",color:"primary white--text"}},[s("v-toolbar-side-icon",{staticClass:"white--text mr-1",on:{click:function(e){return e.stopPropagation(),t.$store.commit("drawer",!t.$store.state.drawer)}}}),t._v(" "),t.$store.state.loading?s("v-progress-circular",{attrs:{size:50,indeterminate:!0,color:"white"}},[s("img",{staticClass:"mt-2",attrs:{src:a(44),alt:"aariXa Schild",width:"32",height:"32"}})]):t._e(),t._v(" "),t.$store.state.loading?t._e():s("div",{staticStyle:{position:"relative",width:"50px",height:"50px"}},[s("div",{staticStyle:{position:"absolute",width:"32px",height:"32px",left:"9px",top:"10px"}},[s("img",{attrs:{src:a(44),alt:"aariXa Schild",width:"32",height:"32"}})])]),t._v(" "),s("v-toolbar-title",{staticClass:"ml-1 white--text",domProps:{textContent:t._s(t.title)}}),t._v(" "),s("v-spacer"),t._v(" "),s("v-toolbar-items",[s("v-btn",{staticClass:"white--text",attrs:{to:{name:"SupplierDetail",params:{slug:"chanry"}},flat:""}},[t._v("Chanry")]),t._v(" "),s("v-btn",{staticClass:"white--text",attrs:{to:{name:"SupplierDetail",params:{slug:"orient"}},flat:""}},[t._v("Orient")])],1)],1),t._v(" "),s("v-content",[s("router-view")],1),t._v(" "),s("v-bottom-nav",{staticClass:"elevation-0",staticStyle:{"background-color":"rgba(255, 255, 255, 0.75)"},attrs:{fixed:t.fixed,value:t.showBottomNav}},[s("v-btn",{attrs:{to:{name:"Root"},exact:"",flat:"",color:"primary"}},[s("span",[t._v("Bestellingen")]),t._v(" "),s("v-icon",[t._v("dashboard")])],1),t._v(" "),s("v-btn",{attrs:{to:{name:"Suppliers"},flat:"",color:"primary"}},[s("span",[t._v("Leveranciers")]),t._v(" "),s("v-icon",[t._v("fastfood")])],1),t._v(" "),s("v-btn",{attrs:{to:{name:"Fridge"},flat:"",color:"primary"}},[s("span",[t._v("Koelkast")]),t._v(" "),s("v-icon",[t._v("kitchen")])],1)],1),t._v(" "),s("v-footer",{attrs:{fixed:t.fixed,app:""}},[s("div",{staticClass:"ml-2",attrs:{id:"buildInfo"}},[t._v("Laatste bijwerking: "+t._s(t.buildDateTime))]),t._v(" "),s("div",{staticClass:"mr-2",attrs:{id:"copyright"}},[t._v("© "),s("a",{attrs:{href:"https://steffbeckers.eu/"}},[t._v("Steff")])])])],1)},r=[],i={render:s,staticRenderFns:r};e.a=i},224:function(t,e,a){t.exports=a.p+"static/img/aariXa_Logo.aa074d0.png"},225:function(t,e,a){"use strict";var s=a(17),r=a(226),i=a(227),n=function(){return a.e(1).then(a.bind(null,256))},o=function(){return a.e(4).then(a.bind(null,257))},l=function(){return a.e(0).then(a.bind(null,258))},u=function(){return a.e(5).then(a.bind(null,259))},c=function(){return a.e(2).then(a.bind(null,260))},d=function(){return a.e(3).then(a.bind(null,261))};s.default.use(r.a),e.a=new r.a({routes:[{path:"/admin/aariXianen",name:"AdminUserModels",component:d,meta:{requiresAdmin:!0}},{path:"/leveranciers/:slug",name:"SupplierDetail",component:l},{path:"/keuken/koelkast",name:"Fridge",component:c},{path:"/keuken",name:"Kitchen",component:u},{path:"/leveranciers",name:"Suppliers",component:o},{path:"/",name:"Root",component:n},{path:"*",name:"FourOhhFour",component:i.a}]})},227:function(t,e,a){"use strict";var s=a(45),r=a(228),i=a(27),n=i(s.a,r.a,!1,null,null,null);e.a=n.exports},228:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[a("v-container",{attrs:{"grid-list-lg":"",fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",[a("div",{staticClass:"title"},[t._v("FourOhhFour")])])],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("p",[t._v("Deze pagina kan niet gevonden worden.")])])],1)],1)],1)},r=[],i={render:s,staticRenderFns:r};e.a=i},229:function(t,e,a){function s(t){return a(r(t))}function r(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./af":46,"./af.js":46,"./ar":47,"./ar-dz":48,"./ar-dz.js":48,"./ar-kw":49,"./ar-kw.js":49,"./ar-ly":50,"./ar-ly.js":50,"./ar-ma":51,"./ar-ma.js":51,"./ar-sa":52,"./ar-sa.js":52,"./ar-tn":53,"./ar-tn.js":53,"./ar.js":47,"./az":54,"./az.js":54,"./be":55,"./be.js":55,"./bg":56,"./bg.js":56,"./bm":57,"./bm.js":57,"./bn":58,"./bn.js":58,"./bo":59,"./bo.js":59,"./br":60,"./br.js":60,"./bs":61,"./bs.js":61,"./ca":62,"./ca.js":62,"./cs":63,"./cs.js":63,"./cv":64,"./cv.js":64,"./cy":65,"./cy.js":65,"./da":66,"./da.js":66,"./de":67,"./de-at":68,"./de-at.js":68,"./de-ch":69,"./de-ch.js":69,"./de.js":67,"./dv":70,"./dv.js":70,"./el":71,"./el.js":71,"./en-SG":72,"./en-SG.js":72,"./en-au":73,"./en-au.js":73,"./en-ca":74,"./en-ca.js":74,"./en-gb":75,"./en-gb.js":75,"./en-ie":76,"./en-ie.js":76,"./en-il":77,"./en-il.js":77,"./en-nz":78,"./en-nz.js":78,"./eo":79,"./eo.js":79,"./es":80,"./es-do":81,"./es-do.js":81,"./es-us":82,"./es-us.js":82,"./es.js":80,"./et":83,"./et.js":83,"./eu":84,"./eu.js":84,"./fa":85,"./fa.js":85,"./fi":86,"./fi.js":86,"./fo":87,"./fo.js":87,"./fr":88,"./fr-ca":89,"./fr-ca.js":89,"./fr-ch":90,"./fr-ch.js":90,"./fr.js":88,"./fy":91,"./fy.js":91,"./ga":92,"./ga.js":92,"./gd":93,"./gd.js":93,"./gl":94,"./gl.js":94,"./gom-latn":95,"./gom-latn.js":95,"./gu":96,"./gu.js":96,"./he":97,"./he.js":97,"./hi":98,"./hi.js":98,"./hr":99,"./hr.js":99,"./hu":100,"./hu.js":100,"./hy-am":101,"./hy-am.js":101,"./id":102,"./id.js":102,"./is":103,"./is.js":103,"./it":104,"./it-ch":105,"./it-ch.js":105,"./it.js":104,"./ja":106,"./ja.js":106,"./jv":107,"./jv.js":107,"./ka":108,"./ka.js":108,"./kk":109,"./kk.js":109,"./km":110,"./km.js":110,"./kn":111,"./kn.js":111,"./ko":112,"./ko.js":112,"./ku":113,"./ku.js":113,"./ky":114,"./ky.js":114,"./lb":115,"./lb.js":115,"./lo":116,"./lo.js":116,"./lt":117,"./lt.js":117,"./lv":118,"./lv.js":118,"./me":119,"./me.js":119,"./mi":120,"./mi.js":120,"./mk":121,"./mk.js":121,"./ml":122,"./ml.js":122,"./mn":123,"./mn.js":123,"./mr":124,"./mr.js":124,"./ms":125,"./ms-my":126,"./ms-my.js":126,"./ms.js":125,"./mt":127,"./mt.js":127,"./my":128,"./my.js":128,"./nb":129,"./nb.js":129,"./ne":130,"./ne.js":130,"./nl":131,"./nl-be":132,"./nl-be.js":132,"./nl.js":131,"./nn":133,"./nn.js":133,"./pa-in":134,"./pa-in.js":134,"./pl":135,"./pl.js":135,"./pt":136,"./pt-br":137,"./pt-br.js":137,"./pt.js":136,"./ro":138,"./ro.js":138,"./ru":139,"./ru.js":139,"./sd":140,"./sd.js":140,"./se":141,"./se.js":141,"./si":142,"./si.js":142,"./sk":143,"./sk.js":143,"./sl":144,"./sl.js":144,"./sq":145,"./sq.js":145,"./sr":146,"./sr-cyrl":147,"./sr-cyrl.js":147,"./sr.js":146,"./ss":148,"./ss.js":148,"./sv":149,"./sv.js":149,"./sw":150,"./sw.js":150,"./ta":151,"./ta.js":151,"./te":152,"./te.js":152,"./tet":153,"./tet.js":153,"./tg":154,"./tg.js":154,"./th":155,"./th.js":155,"./tl-ph":156,"./tl-ph.js":156,"./tlh":157,"./tlh.js":157,"./tr":158,"./tr.js":158,"./tzl":159,"./tzl.js":159,"./tzm":160,"./tzm-latn":161,"./tzm-latn.js":161,"./tzm.js":160,"./ug-cn":162,"./ug-cn.js":162,"./uk":163,"./uk.js":163,"./ur":164,"./ur.js":164,"./uz":165,"./uz-latn":166,"./uz-latn.js":166,"./uz.js":165,"./vi":167,"./vi.js":167,"./x-pseudo":168,"./x-pseudo.js":168,"./yo":169,"./yo.js":169,"./zh-cn":170,"./zh-cn.js":170,"./zh-hk":171,"./zh-hk.js":171,"./zh-tw":172,"./zh-tw.js":172};s.keys=function(){return Object.keys(i)},s.resolve=r,t.exports=s,s.id=229},231:function(t,e){},232:function(t,e){},251:function(t,e,a){"use strict";var s=a(28),r=a.n(s),i=a(17),n=a(252),o=a(178),l=a.n(o);i.default.use(n.a),i.default.use(l.a),e.a=new n.a.Store({state:{loading:!1,loadingCounter:0,drawer:!1,authenticated:null!==i.default.cookie.get("$aariXaFood$token"),token:i.default.cookie.get("$aariXaFood$token"),user:JSON.parse(i.default.cookie.get("$aariXaFood$user")),isAdmin:!(!JSON.parse(i.default.cookie.get("$aariXaFood$user"))||!JSON.parse(i.default.cookie.get("$aariXaFood$user")).roles)&&JSON.parse(i.default.cookie.get("$aariXaFood$user")).roles.includes("Administrator"),isOfficeManager:!(!JSON.parse(i.default.cookie.get("$aariXaFood$user"))||!JSON.parse(i.default.cookie.get("$aariXaFood$user")).roles)&&JSON.parse(i.default.cookie.get("$aariXaFood$user")).roles.includes("OfficeManager")},mutations:{loader:function(t,e){e?t.loadingCounter++:t.loadingCounter--,t.loadingCounter>0?t.loading=!0:t.loading=!1},drawer:function(t,e){t.drawer=e},authenticate:function(t,e){t.authenticated=!0,t.token=e.id,t.user=e.user,t.isAdmin=e.user.roles.includes("Administrator"),t.isOfficeManager=e.user.roles.includes("OfficeManager"),i.default.cookie.set("$aariXaFood$token",e.id,{expires:e.ttl+"s"}),i.default.cookie.set("$aariXaFood$user",r()(e.user),{expires:e.ttl+"s"}),i.default.prototype.$axios.defaults.headers.common.Authorization=t.token},signOut:function(t){t.authenticated=!1,t.token=null,t.user=null,t.isAdmin=!1,t.isOfficeManager=!1,i.default.cookie.delete("$aariXaFood$token"),i.default.cookie.delete("$aariXaFood$user"),localStorage.clear(),delete i.default.prototype.$axios.defaults.headers.common.Authorization}}})},43:function(t,e,a){"use strict";e.a={data:function(){return{loginFormValid:!1,email:"@aariXa.be",emailDefault:"@aariXa.be",emailRules:[function(t){return!!t||"E-mail is vereist"},function(t){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)||"E-mail moet correct zijn"}],emailSent:!1,emailError:!1,sideMenuItems:[{icon:"dashboard",title:"Bestellingen",page:{name:"Root"}},{icon:"fastfood",title:"Leveranciers",page:{name:"Suppliers"}},{icon:"restaurant",title:"Keuken",page:{name:"Kitchen"}},{icon:"kitchen",title:"Koelkast",page:{name:"Fridge"}}],buildDateTime:"02/07/2019 23:25:32",nodeEnv:"production",clipped:!1,showBottomNav:!0,miniVariant:!1,fixed:!0,title:"aariXaFood"}},mounted:function(){this.loginWithCredentialsFromEmail(),this.$store.commit("drawer",!this.$store.state.authenticated)},methods:{sendLoginCredentialsEmail:function(t){var e=this;t.preventDefault(),this.emailSent=!1,this.emailError=!1,this.$refs.loginForm.validate()&&this.$axios.post("https://aarixafood.steffbeckers.eu/api/UserModels/login",{email:this.email}).then(function(t){"AUTH_EMAIL_SENT"===t.data.code&&(e.emailSent=!0)}).catch(function(){e.emailError=!0})},loginWithCredentialsFromEmail:function(){var t=this.$route.query.credentials;if(t){var e=atob(t);if("{"===e.charAt(0)&&"}"===e.charAt(e.length-1)){var a=JSON.parse(e);this.$store.commit("authenticate",a),this.$router.push({path:this.$route.query.redirect})}}},signOut:function(){var t=this;this.$axios.post("https://aarixafood.steffbeckers.eu/api/UserModels/logout").then(function(e){t.$store.commit("signOut"),t.email=t.emailDefault})}},computed:{firstLetterOfUser:function(){return this.$store.state.authenticated&&this.$store.state.user.username?this.$store.state.user.username.substr(0,1):""}},watch:{$route:function(t,e){this.showBottomNavActive="Root"===this.$route.name?0:1,this.loginWithCredentialsFromEmail()}},name:"App"}},44:function(t,e,a){t.exports=a.p+"static/img/aariXa_Shield_32x32.1dd4d61.png"},45:function(t,e,a){"use strict";e.a={name:"FourOhhFour"}}},[189]);
//# sourceMappingURL=app.554559c7588c50399604.js.map