webpackJsonp([4],{253:function(e,t,r){"use strict";function s(e){r(272)}Object.defineProperty(t,"__esModule",{value:!0});var i=r(266),n=r(274),a=r(27),l=s,o=a(i.a,n.a,!1,l,"data-v-bf90a342",null);t.default=o.exports},266:function(e,t,r){"use strict";t.a={data:function(){return{errors:[],suppliersWithOrders:[],dayOfWeek:(new Date).getDay(),deleteOrder:{},deleteOrderDialog:!1}},created:function(){this.listSuppliersWithOrders()},methods:{listSuppliersWithOrders:function(){var e=this;this.$axios.get("https://aarixafood.steffbeckers.eu/api/Suppliers/todaysOrders").then(function(t){e.suppliersWithOrders=t.data}).catch(function(t){e.errors.unshift(t)})},navigateToSupplier:function(e){this.$router.push({name:"SupplierDetail",params:{slug:e}})},totalOfAllOrdersPerSupplier:function(e){var t=0;return e.orders.forEach(function(e){t+=e.price}),t},subItemsListing:function(e){for(var t="met ",r=0;r<e.subItems.length;r++){var s=e.subItems[r];e.subItems.length>1&&r===e.subItems.length-1?t+=" & ":r>0&&(t+=", "),t+=s.name||s}return t},deleteOrderOnAPI:function(){var e=this;this.$axios.delete("https://aarixafood.steffbeckers.eu/api/Orders/"+this.deleteOrder.id).then(function(t){var r=e.suppliersWithOrders.findIndex(function(t){return t.id===e.deleteOrder.supplierId}),s=e.suppliersWithOrders[r].orders.findIndex(function(t){return t.id===e.deleteOrder.id});e.suppliersWithOrders[r].orders.splice(s,1),e.deleteOrder={},e.deleteOrderDialog=!1}).catch(function(t){e.errors.unshift(t)})}},name:"Suppliers"}},272:function(e,t,r){var s=r(273);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);r(252)("9b10376e",s,!0,{})},273:function(e,t,r){t=e.exports=r(251)(!0),t.push([e.i,".card__title>div[data-v-bf90a342]{cursor:pointer}","",{version:3,sources:["C:/dev/aariXaFood/client/src/pages/Orders.vue"],names:[],mappings:"AACA,kCACE,cAAgB,CACjB",file:"Orders.vue",sourcesContent:["\n.card__title > div[data-v-bf90a342] {\r\n  cursor: pointer;\n}\r\n"],sourceRoot:""}])},274:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"bounce"}},[r("v-container",{attrs:{"grid-list-lg":"",fluid:""}},[e.errors.length>0?r("v-layout",{attrs:{row:""}},[r("v-flex",e._l(e.errors,function(t,s){return r("v-alert",{key:s,attrs:{value:!0,type:"error"}},[e._v("\n          "+e._s(t.message)+"\n        ")])}))],1):e._e(),e._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",[r("div",{staticClass:"title"},[e._v("Bestellingen")])])],1),e._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[e.$store.state.loading||0!==e.suppliersWithOrders.length&&0!==e.suppliersWithOrders[0].orders.length?e._e():r("v-flex",{attrs:{xs12:""}},[r("p",[e._v("Iedereen is gezonder bezig vandaag, er is nog niets besteld.")]),e._v(" "),r("v-btn",{staticClass:"ml-0",attrs:{color:"primary",flat:""},on:{click:function(t){e.$router.push("leveranciers")}}},[e._v("Maak je keuze")])],1),e._v(" "),e._l(e.suppliersWithOrders,function(t){return t.orders.length>0&&e.suppliersWithOrders[0].orders.length>0?r("v-flex",{key:t.id,attrs:{xl6:"",xs12:""}},[r("v-card",[r("v-card-title",{staticClass:"pb-0",attrs:{"primary-title":""},on:{click:function(r){e.navigateToSupplier(t.slug)}}},[r("div",[r("h3",{staticClass:"headline mb-1"},[e._v(e._s(t.name))]),e._v(" "),r("div",[t.telephone?r("span",{staticClass:"telephone"},[e._v(e._s(t.telephone))]):e._e(),e._v(" "),t.telephone&&t.website?r("span",[e._v(" - ")]):e._e(),e._v(" "),t.website?r("span",{staticClass:"website"},[e._v(e._s(e._f("formatWebsite")(t.website)))]):e._e()]),e._v(" "),t.openingHours&&t.openingHours[e.dayOfWeek]?r("div",e._l(t.openingHours[e.dayOfWeek],function(t,s){return r("span",{key:s},[e._v("\n                  "+e._s(t.from)+" - "+e._s(t.until)+"\n                ")])})):r("div",[e._v("\n                Vandaag gesloten\n              ")])])]),e._v(" "),r("v-card-text",{staticClass:"pb-0"},[r("v-list",{staticClass:"pt-1 pb-1",attrs:{"three-line":""}},[e._l(t.orders,function(t,s){return[0===s?r("v-divider",{key:t.id}):e._e(),e._v(" "),r("v-list-tile",{key:s},[r("v-list-tile-content",[r("v-list-tile-title",[e._v("\n                      "+e._s(t.userModel.username)+"\n                    ")]),e._v(" "),t.updatedOn?r("v-list-tile-sub-title",[e._v(e._s(e._f("formatTime")(t.updatedOn))+" "),r("v-icon",{attrs:{small:""},domProps:{innerHTML:e._s("done")}})],1):e._e(),e._v(" "),t.price>0?r("v-list-tile-sub-title",[e._v(e._s(e._f("formatMoney")(t.price)))]):e._e()],1),e._v(" "),e._l(t.orderItems,function(t,s){return r("v-list-tile-content",{key:s},[t.menuItem?r("v-list-tile-title",[t.quantity>1?r("span",[e._v(e._s(t.quantity)+" ")]):e._e(),e._v(" "),t.selectedType&&t.quantity>1?r("span",[e._v(e._s(t.menuItem.types[t.selectedType].namePlural))]):e._e(),e._v(" "),t.selectedType&&1===t.quantity?r("span",[e._v(e._s(t.menuItem.types[t.selectedType].name))]):e._e(),e._v(" "),!t.selectedType&&t.quantity>1?r("span",[e._v(e._s(t.menuItem.namePlural))]):e._e(),e._v(" "),t.selectedType||1!==t.quantity?e._e():r("span",[e._v(e._s(t.menuItem.name))]),e._v(" "),t.subItems.length>0?r("span",[e._v(e._s(e.subItemsListing(t)))]):e._e()]):t.info?r("v-list-tile-title",[e._v("\n                      "+e._s(t.info)+"\n                    ")]):e._e(),e._v(" "),t.menuItem&&t.info&&!t.editInfo?r("v-list-tile-sub-title",{staticClass:"text--primary"},[e._v(e._s(t.info))]):e._e(),e._v(" "),t.menuItem&&t.menuItem.category?r("v-list-tile-sub-title",[e._v(e._s(t.menuItem.category))]):e._e()],1)}),e._v(" "),e.$store.state.authenticated&&t.userModelId===e.$store.state.user.id?r("v-list-tile-action",{on:{click:function(r){e.deleteOrder=t,e.deleteOrderDialog=!0}}},[r("v-btn",{attrs:{icon:"",ripple:""}},[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("delete")])],1)],1):e._e()],2),e._v(" "),r("v-divider",{key:t.updatedOn})]}),e._v(" "),e.totalOfAllOrdersPerSupplier(t)>0?r("v-list-tile-title",{staticClass:"mt-2"},[e._v("Totaal: "+e._s(e._f("formatMoney")(e.totalOfAllOrdersPerSupplier(t))))]):e._e()],2)],1),e._v(" "),r("v-card-actions",[t.telephone?r("v-btn",{attrs:{href:"tel:"+t.telephone,flat:""}},[e._v("\n              Bellen\n            ")]):e._e(),e._v(" "),t.website?r("v-btn",{attrs:{href:t.website,target:"_blank",flat:""}},[e._v("\n              Website\n            ")]):e._e(),e._v(" "),t.address&&t.address.googleMapsLink?r("v-btn",{attrs:{href:t.address.googleMapsLink,target:"_blank",flat:""}},[e._v("\n              Maps\n            ")]):e._e()],1)],1)],1):e._e()}),e._v(" "),e.deleteOrder.id?r("v-dialog",{attrs:{"max-width":"250px"},model:{value:e.deleteOrderDialog,callback:function(t){e.deleteOrderDialog=t},expression:"deleteOrderDialog"}},[r("v-card",[r("v-card-title",[r("div",{staticClass:"title"},[e._v("Bestelling verwijderen?")])]),e._v(" "),r("v-card-actions",[r("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){t.stopPropagation(),e.deleteOrder={},e.deleteOrderDialog=!1}}},[e._v("Sluiten")]),e._v(" "),r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"red",flat:""},on:{click:function(t){t.stopPropagation(),e.deleteOrderOnAPI()}}},[e._v("Verwijderen")])],1)],1)],1):e._e()],2)],1)],1)},i=[],n={render:s,staticRenderFns:i};t.a=n}});
//# sourceMappingURL=4.bed10607a54eaa50bdb0.js.map